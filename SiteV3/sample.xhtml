<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title>NW3weather - sample script </title>
    </head>
    <body>
        <div>

			<a href='/wx8.php'>Back</a>

			<h1>Sample PHP script - monthly data tables</h1>
			<code><span style="color: #000000">
					&nbsp;&nbsp;&nbsp;&nbsp;
					<span style="color: #0000BB">&lt;?php<br />$allDataNeeded&nbsp;</span>

					<span style="color: #007700">=&nbsp;</span>

					<span style="color: #0000BB">true</span>

					<span style="color: #007700">;<br />require(</span>

					<span style="color: #DD0000">'unit-select.php'</span>

					<span style="color: #007700">);&nbsp;</span>

					<span style="color: #0000BB">?&gt;<br />
					</span>
<br />&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN"<br />
					&nbsp;&nbsp;&nbsp;"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;<br /><br />
					<span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">include(</span>
<span style="color: #0000BB">$newtags</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>

<span style="color: #0000BB">$file&nbsp;</span>

<span style="color: #007700">=&nbsp;</span>

<span style="color: #0000BB">40</span>

<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>

<span style="color: #0000BB">$linkToOther&nbsp;</span>

<span style="color: #007700">=&nbsp;</span>

<span style="color: #DD0000">'wxdataday'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$needValcolStyle&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">true</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$datgenHeading&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">'Monthly&nbsp;Data&nbsp;Tables'</span>
<span style="color: #007700">;<br /></span>
<span style="color: #0000BB">?&gt;<br /></span>
<br />&lt;html&nbsp;xmlns="http://www.w3.org/1999/xhtml"&nbsp;xml:lang="en"&nbsp;lang="en"&gt;<br />&lt;head&gt;<br /><br />&lt;title&gt;NW3&nbsp;Weather&nbsp;-&nbsp;Monthly&nbsp;Data&nbsp;Tables&lt;/title&gt;<br /><br />&lt;meta&nbsp;name="description"&nbsp;content="Detailed&nbsp;historical&nbsp;monthly&nbsp;summary&nbsp;data&nbsp;reports&nbsp;with&nbsp;all-time&nbsp;summary."&nbsp;/&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">require(</span>
<span style="color: #DD0000">'chead.php'</span>
<span style="color: #007700">);&nbsp;</span>
<span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;</span>
<span style="color: #007700">include(</span>
<span style="color: #DD0000">'ggltrack.php'</span>
<span style="color: #007700">)&nbsp;</span>
<span style="color: #0000BB">?&gt;<br /></span>
&lt;/head&gt;<br /><br />&lt;body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;#####&nbsp;Header&nbsp;#####&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">require(</span>
<span style="color: #DD0000">'header.php'</span>
<span style="color: #007700">);&nbsp;</span>
<span style="color: #0000BB">?&gt;<br /></span>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;#####&nbsp;Left&nbsp;Sidebar&nbsp;#####&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">require(</span>
<span style="color: #DD0000">'leftsidebar.php'</span>
<span style="color: #007700">);&nbsp;</span>
<span style="color: #0000BB">?&gt;<br /></span>
<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;#####&nbsp;Main&nbsp;Copy&nbsp;#####&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id="main"&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">require(</span>
<span style="color: #DD0000">'wxdatagen.php'</span>
<span style="color: #007700">);<br /><br />if(</span>
<span style="color: #0000BB">$type&nbsp;</span>
<span style="color: #007700">==&nbsp;</span>
<span style="color: #DD0000">'wdir'&nbsp;</span>
<span style="color: #007700">||&nbsp;</span>
<span style="color: #0000BB">$type&nbsp;</span>
<span style="color: #007700">==&nbsp;</span>
<span style="color: #DD0000">'cloud'</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span>
<span style="color: #DD0000">"&lt;p&gt;</span>
<span style="color: #0000BB">$description</span>
<span style="color: #DD0000">&nbsp;has&nbsp;no&nbsp;meaningfull&nbsp;monthly&nbsp;summary.&lt;/p&gt;&lt;/div&gt;"</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;require(</span>
<span style="color: #DD0000">'footer.php'</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span>
<span style="color: #DD0000">'&lt;/body&gt;&lt;/html&gt;'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;die();<br />}<br /><br />class&nbsp;</span>
<span style="color: #0000BB">MonthlySummaryDataTables&nbsp;</span>
<span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span>
<span style="color: #0000BB">edgeStyle&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">"border-left:&nbsp;5px&nbsp;solid&nbsp;#565"</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$DAT</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$CVAR</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$valcolSumOffset</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$CLIMATE</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$climateConvType</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$climateMapping</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span>
<span style="color: #0000BB">$countable</span>
<span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span>
<span style="color: #0000BB">__construct</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$data</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$cvar</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$valcolSumOffset</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$climData</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$climMap</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">DAT&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$data</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">valcolSumOffset&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$valcolSumOffset</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR&nbsp;</span>
<span style="color: #007700">=&nbsp;new&nbsp;</span>
<span style="color: #0000BB">CurrVar</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$cvar</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CLIMATE&nbsp;</span>
<span style="color: #007700">=&nbsp;new&nbsp;</span>
<span style="color: #0000BB">Climate</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$climMap</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$climData</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateConvType&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum&nbsp;</span>
<span style="color: #007700">==&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">)&nbsp;?&nbsp;</span>
<span style="color: #0000BB">1.1&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateMapping&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CLIMATE</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">mapping</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeNum</span>
<span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;enum&nbsp;$t&nbsp;table&nbsp;type&nbsp;(0:&nbsp;min,&nbsp;1:&nbsp;max;&nbsp;2:&nbsp;mean,&nbsp;3:&nbsp;count)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;string&nbsp;$heading&nbsp;table&nbsp;heading<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #007700">public&nbsp;function&nbsp;</span>
<span style="color: #0000BB">makeTable</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$t</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$heading</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$isAnom&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isAnom</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$sumfix&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isSum&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;?&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">valcolSumOffset&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">3</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">countable&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$isCount</span>
<span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">table</span>
<span style="color: #007700">(</span>
<span style="color: #DD0000">'table1"&nbsp;style="margin-bottom:&nbsp;15px;'</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">null</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">6</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tableHead</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$heading&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #DD0000">'&nbsp;'&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">description</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">14</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr</span>
<span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #DD0000">'Month'</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'td4C'</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'7%'</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">&lt;=&nbsp;</span>
<span style="color: #0000BB">12</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">DateConsts</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">$months3</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">-&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #DD0000">'td4C'</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'7%'</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #DD0000">'Year'</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'td4"&nbsp;style="'&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">edgeStyle</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'9%'</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr_end</span>
<span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span>
<span style="color: #0000BB">$y&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">date</span>
<span style="color: #007700">(</span>
<span style="color: #DD0000">'Y'</span>
<span style="color: #007700">);&nbsp;</span>
<span style="color: #0000BB">$y&nbsp;</span>
<span style="color: #007700">&gt;=&nbsp;</span>
<span style="color: #0000BB">DateConsts</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">$startYear</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">--)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">null</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'row'&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">colcol</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">)&nbsp;.&nbsp;</span>
<span style="color: #DD0000">'"&nbsp;style="text-align:center;&nbsp;font-weight:bold'</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">&lt;=&nbsp;</span>
<span style="color: #0000BB">12</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$cnt&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">count</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">DAT</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">]);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #FF8000">//initalise&nbsp;to&nbsp;default&nbsp;for&nbsp;month&nbsp;not&nbsp;arrived<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$anom&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">'-'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$class&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">'reportday'</span>
<span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span>
<span style="color: #0000BB">$cnt&nbsp;</span>
<span style="color: #007700">&gt;=&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">)&nbsp;{&nbsp;</span>
<span style="color: #FF8000">//month&nbsp;arrived<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$val&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">mom</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">DAT</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$t</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span>
<span style="color: #0000BB">isBlank</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$class&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #DD0000">'invalid'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">]&nbsp;=&nbsp;</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;=&nbsp;</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isSum&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;{&nbsp;</span>
<span style="color: #FF8000">//convert&nbsp;mean&nbsp;to&nbsp;sum&nbsp;and&nbsp;amend&nbsp;valuecolour&nbsp;setting<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">]&nbsp;*=&nbsp;</span>
<span style="color: #0000BB">$cnt</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;*=&nbsp;</span>
<span style="color: #0000BB">$cnt</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">?&nbsp;</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;:&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$class&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">isClassless</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value</span>
<span style="color: #007700">)&nbsp;?&nbsp;</span>
<span style="color: #DD0000">'invalid'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">getColourClass</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;/&nbsp;</span>
<span style="color: #0000BB">$sumfix</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$anom&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$isAnom&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #DD0000">'&lt;br&nbsp;/&gt;('&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">anomMonth</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">-&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">)&nbsp;.&nbsp;</span>
<span style="color: #DD0000">')'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$anom</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$class</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #FF8000">//Annual&nbsp;summary<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;=&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">?&nbsp;</span>
<span style="color: #0000BB">mean</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">])&nbsp;:&nbsp;</span>
<span style="color: #0000BB">mom</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$t</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isSum&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">&gt;=&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;{&nbsp;</span>
<span style="color: #FF8000">//convert&nbsp;mean&nbsp;to&nbsp;sum&nbsp;and&nbsp;amend&nbsp;valuecolour&nbsp;setting<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$cntM&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">count</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;*=&nbsp;</span>
<span style="color: #0000BB">$cntM</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$cntM&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$anom&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$isAnom&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #DD0000">'&lt;br&nbsp;/&gt;('&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">anomYear</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">])&nbsp;.&nbsp;</span>
<span style="color: #DD0000">')'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$valyr&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">?&nbsp;</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;:&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$valyr&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$anom</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">getColourClass</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$y</span>
<span style="color: #007700">]&nbsp;/&nbsp;</span>
<span style="color: #0000BB">$sumfix&nbsp;</span>
<span style="color: #007700">/&nbsp;</span>
<span style="color: #0000BB">$cntM</span>
<span style="color: #007700">)&nbsp;.&nbsp;</span>
<span style="color: #DD0000">'"&nbsp;style="'&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">edgeStyle</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr_end</span>
<span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #FF8000">//Monthly&nbsp;summary<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #007700">for(</span>
<span style="color: #0000BB">$mm&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$mm&nbsp;</span>
<span style="color: #007700">&lt;&nbsp;</span>
<span style="color: #0000BB">3</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$mm</span>
<span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extra&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$mm&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">)&nbsp;?&nbsp;</span>
<span style="color: #DD0000">'"&nbsp;style="border-top:10px&nbsp;solid&nbsp;#cdc'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$mmmedgeStyle&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$mm&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">)&nbsp;?&nbsp;</span>
<span style="color: #DD0000">";&nbsp;"&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">'"&nbsp;style="'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">null</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">GenConsts</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">$lhm</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$mm</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #DD0000">'reportttl'</span>
<span style="color: #007700">.</span>
<span style="color: #0000BB">$extra&nbsp;</span>
<span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m&nbsp;</span>
<span style="color: #007700">&lt;=&nbsp;</span>
<span style="color: #0000BB">12</span>
<span style="color: #007700">;&nbsp;</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$extremeM&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">mom</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extreme</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$mm</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">?&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extremeM</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">9</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">)&nbsp;:&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(&nbsp;</span>
<span style="color: #0000BB">$extremeM</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false&nbsp;</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$anom&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$isAnom&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #DD0000">'&lt;br&nbsp;/&gt;('</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">anomMonth</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extremeM</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$m</span>
<span style="color: #007700">-</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">)&nbsp;.</span>
<span style="color: #DD0000">')'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$class&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">getColourClass</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$extremeM&nbsp;</span>
<span style="color: #007700">/&nbsp;</span>
<span style="color: #0000BB">$sumfix</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$anom</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$class&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$extra</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$yrMinM&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">mom</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMin</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$mm</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$valall&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$isCount&nbsp;</span>
<span style="color: #007700">?&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMinM</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">9</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">)&nbsp;:&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(&nbsp;</span>
<span style="color: #0000BB">$yrMinM</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typeconvNum</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false&nbsp;</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$anom&nbsp;</span>
<span style="color: #007700">=&nbsp;(</span>
<span style="color: #0000BB">$isAnom&nbsp;</span>
<span style="color: #007700">&amp;&amp;&nbsp;</span>
<span style="color: #0000BB">$t&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">)&nbsp;?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #DD0000">'&lt;br&nbsp;/&gt;('</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">anomYear</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMinM</span>
<span style="color: #007700">)&nbsp;.</span>
<span style="color: #DD0000">')'&nbsp;</span>
<span style="color: #007700">:&nbsp;</span>
<span style="color: #DD0000">''</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">td</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$valall&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$anom</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">getColourClass</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$yrMinM&nbsp;</span>
<span style="color: #007700">/&nbsp;</span>
<span style="color: #0000BB">$sumfix&nbsp;</span>
<span style="color: #007700">/&nbsp;</span>
<span style="color: #0000BB">$cntM</span>
<span style="color: #007700">)&nbsp;.&nbsp;</span>
<span style="color: #0000BB">$extra&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$mmmedgeStyle&nbsp;</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">self</span>
<span style="color: #007700">::</span>
<span style="color: #0000BB">edgeStyle&nbsp;</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">tr_end</span>
<span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">table_end</span>
<span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span>
<span style="color: #0000BB">getColourClass</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">valcolr</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">typevalcolNum</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">countable</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span>
<span style="color: #0000BB">anomMonth</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$month</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$climateVal&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CLIMATE</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">monthlyData</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateMapping</span>
<span style="color: #007700">][</span>
<span style="color: #0000BB">$month</span>
<span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isSum</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">percent</span>
<span style="color: #007700">(&nbsp;</span>
<span style="color: #0000BB">$value</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$climateVal</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">true</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false&nbsp;</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">-&nbsp;</span>
<span style="color: #0000BB">$climateVal</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateConvType</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">true</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span>
<span style="color: #0000BB">anomYear</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CVAR</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">isSum</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">percent</span>
<span style="color: #007700">(&nbsp;</span>
<span style="color: #0000BB">$value</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CLIMATE</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">annualSums</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateMapping</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">true</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false&nbsp;</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">conv</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$value&nbsp;</span>
<span style="color: #007700">-&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">CLIMATE</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">annualAvs</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateMapping</span>
<span style="color: #007700">],&nbsp;</span>
<span style="color: #0000BB">$this</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">climateConvType</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">false</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">true</span>
<span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br />if(</span>
<span style="color: #0000BB">$isSum</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$lhmFull</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">]&nbsp;=&nbsp;</span>
<span style="color: #DD0000">'Total'</span>
<span style="color: #007700">;<br />}<br /><br /></span>
<span style="color: #0000BB">$DAT&nbsp;</span>
<span style="color: #007700">=&nbsp;</span>
<span style="color: #0000BB">varNumToDatArray</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$typeNum</span>
<span style="color: #007700">);<br /><br /></span>
<span style="color: #0000BB">$tables&nbsp;</span>
<span style="color: #007700">=&nbsp;new&nbsp;</span>
<span style="color: #0000BB">MonthlySummaryDataTables</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$DAT</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$CVARS</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$valcolSumOffset</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$vars</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #0000BB">$maptoClimavs</span>
<span style="color: #007700">);<br /><br />if(!</span>
<span style="color: #0000BB">$isNotSummarisable</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$tables</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">makeTable</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">'Monthly-'</span>
<span style="color: #007700">.&nbsp;</span>
<span style="color: #0000BB">$lhmFull</span>
<span style="color: #007700">[</span>
<span style="color: #0000BB">2</span>
<span style="color: #007700">]);<br />}<br />if(</span>
<span style="color: #0000BB">$isSum</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$tables</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">makeTable</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">3</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">"Days&nbsp;of&nbsp;(non-zero)"</span>
<span style="color: #007700">);<br />}<br />if(!</span>
<span style="color: #0000BB">$isSum</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #0000BB">$tables</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">makeTable</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">0</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">"Lowest"</span>
<span style="color: #007700">);<br />}<br /></span>
<span style="color: #0000BB">$tables</span>
<span style="color: #007700">-&gt;</span>
<span style="color: #0000BB">makeTable</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">1</span>
<span style="color: #007700">,&nbsp;</span>
<span style="color: #DD0000">"Highest"</span>
<span style="color: #007700">);<br /><br />echo&nbsp;</span>
<span style="color: #DD0000">'&lt;p&gt;'</span>
<span style="color: #007700">;<br />echo&nbsp;</span>
<span style="color: #0000BB">$description&nbsp;</span>
<span style="color: #007700">.</span>
<span style="color: #DD0000">'&nbsp;data&nbsp;for&nbsp;every&nbsp;available&nbsp;month&nbsp;in&nbsp;the&nbsp;weather&nbsp;station&nbsp;history,&nbsp;along&nbsp;with&nbsp;overall<br />&nbsp;&nbsp;&nbsp;&nbsp;(lowest,&nbsp;highest,&nbsp;and&nbsp;mean),&nbsp;and&nbsp;annual&nbsp;(min/max&nbsp;or&nbsp;mean)&nbsp;summaries.<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&nbsp;/&gt;'</span>
<span style="color: #007700">;<br />if(</span>
<span style="color: #0000BB">$isAnom</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span>
<span style="color: #DD0000">'Figures&nbsp;in&nbsp;brackets&nbsp;refer&nbsp;to&nbsp;departure&nbsp;from<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href="wxaverages.php"&nbsp;title="Long-term&nbsp;NW3&nbsp;climate&nbsp;averages"&gt;average&nbsp;conditions&lt;/a&gt;'</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span>
<span style="color: #0000BB">$endyr&nbsp;</span>
<span style="color: #007700">==&nbsp;</span>
<span style="color: #0000BB">$dyear</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span>
<span style="color: #DD0000">"&nbsp;(note&nbsp;that&nbsp;the&nbsp;anomaly&nbsp;for&nbsp;the&nbsp;current&nbsp;month&nbsp;is&nbsp;unadjusted&nbsp;for&nbsp;the&nbsp;month's&nbsp;degree&nbsp;of&nbsp;completeness)"</span>
<span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span>
<span style="color: #DD0000">'.'</span>
<span style="color: #007700">;<br />}<br />echo&nbsp;</span>
<span style="color: #DD0000">'&lt;/p&gt;'</span>
<span style="color: #007700">;<br /><br />function&nbsp;</span>
<span style="color: #0000BB">isClassless</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span>
<span style="color: #0000BB">isBlank</span>
<span style="color: #007700">(</span>
<span style="color: #0000BB">$val</span>
<span style="color: #007700">)&nbsp;||&nbsp;</span>
<span style="color: #0000BB">$val&nbsp;</span>
<span style="color: #007700">===&nbsp;</span>
<span style="color: #DD0000">'null'</span>
<span style="color: #007700">;<br />}<br /></span>
<span style="color: #0000BB">?&gt;<br /></span>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;#####&nbsp;Footer&nbsp;#####&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span>
<span style="color: #007700">require(</span>
<span style="color: #DD0000">'footer.php'</span>
<span style="color: #007700">);&nbsp;</span>
<span style="color: #0000BB">?&gt;<br /></span>
<br />&lt;/body&gt;<br />&lt;/html&gt;</span>

			</code>
		</div>
    </body>
</html>
